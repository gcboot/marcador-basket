<div class="form-container">
  <h2>{{ editing ? 'Editar Usuario' : 'Crear Usuario' }}</h2>

  <div *ngIf="errorMessage" class="error-message">
    {{ errorMessage }}
  </div>

  <form (ngSubmit)="save()" #form="ngForm">
    
    <div class="form-group">
      <label for="username">Usuario</label>
      <input id="username" [(ngModel)]="user.username" name="username" required />
    </div>

    <div class="form-group" *ngIf="!editing">
      <label for="password">Contrase√±a</label>
      <input id="password" type="password" [(ngModel)]="user.password" name="password" required />
    </div>

    <div class="form-group">
      <label for="rol">Rol</label>
      <select id="rol" [(ngModel)]="user.rol" name="rol">
        <option value="user">Usuario</option>
        <option value="admin">Administrador</option>
      </select>
    </div>

    <button class="btn-submit" type="submit">
      {{ editing ? 'Guardar Cambios' : 'Crear Usuario' }}
    </button>
    <button class="btn-cancel" type="button" (click)="router.navigate(['/users'])">
      Cancelar
    </button>
  </form>
</div>
